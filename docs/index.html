<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>oxicrab - Multi-Channel AI Assistant Framework for Rust</title>
  <meta name="description" content="A high-performance Rust framework for building multi-channel AI assistants. Connect Telegram, Discord, Slack, WhatsApp, and Twilio to any LLM provider.">
  <meta name="theme-color" content="#0ea5e9">
  <link rel="icon" href="oxicrab.png">
  <style>
    :root {
      --bg: #fafbfc; --bg-alt: #f0f4f8; --bg-dark: #0b1222;
      --text: #1e293b; --text-muted: #64748b; --text-light: #94a3b8;
      --accent: #0ea5e9; --accent-dark: #0284c7;
      --coral: #f97066; --teal: #14b8a6; --purple: #8b5cf6;
      --border: #e2e8f0; --surface: #fff;
      --code-bg: #0f172a; --code-text: #e2e8f0;
      --max-w: 1120px;
      --mono: 'IBM Plex Mono', 'SF Mono', 'Cascadia Code', Consolas, monospace;
      --sans: 'IBM Plex Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
    }
    * { margin: 0; padding: 0; box-sizing: border-box; }
    html { scroll-behavior: smooth; }
    body { font-family: var(--sans); background: var(--bg); color: var(--text); line-height: 1.7; -webkit-font-smoothing: antialiased; }

    /* NAV */
    nav { position: sticky; top: 0; background: rgba(250,251,252,0.9); backdrop-filter: blur(12px); border-bottom: 1px solid var(--border); z-index: 100; padding: 0 2rem; }
    .nav-inner { max-width: 1120px; margin: 0 auto; display: flex; align-items: center; justify-content: space-between; height: 56px; }
    .nav-logo { font-family: var(--mono); font-weight: 700; font-size: 1.1rem; color: var(--text); text-decoration: none; letter-spacing: -0.02em; display: flex; align-items: center; gap: 0.4rem; }
    .nav-logo img { image-rendering: pixelated; }
    .nav-logo .oxi { color: var(--accent); }
    .nav-links { display: flex; gap: 1.5rem; list-style: none; align-items: center; }
    .nav-links a { color: var(--text-muted); text-decoration: none; font-size: 0.85rem; font-weight: 500; transition: color 0.15s; }
    .nav-links a:hover { color: var(--text); }
    .nav-links a.active { color: var(--accent); }

    /* TOC */
    .toc { background: var(--bg-alt); border: 1px solid var(--border); border-radius: 10px; padding: 1.25rem 1.5rem; margin-bottom: 3rem; }
    .toc-title { font-family: var(--mono); font-size: 0.75rem; font-weight: 700; text-transform: uppercase; letter-spacing: 0.08em; color: var(--text-light); margin-bottom: 0.5rem; }
    .toc ul { list-style: none; display: flex; flex-wrap: wrap; gap: 0.5rem; }
    .toc a { display: inline-block; padding: 0.3rem 0.9rem; background: var(--surface); border: 1px solid var(--border); border-radius: 6px; color: var(--text); text-decoration: none; font-size: 0.85rem; font-weight: 600; transition: border-color 0.15s; }
    .toc a:hover { border-color: var(--accent); color: var(--accent); }

    /* PAGE LAYOUT */
    .page-header { padding: 4rem 2rem 2rem; max-width: var(--max-w); margin: 0 auto; }
    .page-header h1 { font-size: 2.5rem; font-weight: 800; letter-spacing: -0.03em; margin-bottom: 0.5rem; }
    .page-header p { color: var(--text-muted); font-size: 1.1rem; }
    .content { max-width: var(--max-w); margin: 0 auto; padding: 0 2rem 4rem; }

    /* CODE */
    pre { background: var(--code-bg); border-radius: 8px; padding: 1rem 1.25rem; overflow-x: auto; font-family: var(--mono); font-size: 0.8rem; line-height: 1.7; color: var(--code-text); margin: 0.75rem 0 1rem; }
    code { font-family: var(--mono); font-size: 0.85em; background: var(--bg-alt); padding: 0.15em 0.4em; border-radius: 4px; }
    pre code { background: none; padding: 0; }

    /* COMPONENTS */
    .note { background: rgba(14,165,233,0.06); border-left: 3px solid var(--accent); padding: 0.75rem 1rem; border-radius: 0 6px 6px 0; margin: 1rem 0; font-size: 0.85rem; color: var(--text); }
    .note strong { color: var(--accent); }
    .config-block { margin: 1rem 0; }
    .config-label { font-family: var(--mono); font-size: 0.7rem; color: var(--text-light); margin-bottom: 0.25rem; }

    /* LISTS */
    ol { padding-left: 1.5rem; margin-bottom: 1rem; }
    ol li { margin-bottom: 0.5rem; font-size: 0.9rem; color: var(--text); }
    ol li strong { color: var(--text); }

    /* FOOTER */
    footer { border-top: 1px solid var(--border); padding: 2rem; text-align: center; }
    .footer-inner { max-width: 1120px; margin: 0 auto; display: flex; align-items: center; justify-content: space-between; }
    .footer-links { display: flex; gap: 1.5rem; }
    .footer-links a { color: var(--text-muted); text-decoration: none; font-size: 0.8rem; }
    .footer-links a:hover { color: var(--text); }
    .footer-copy { color: var(--text-light); font-size: 0.75rem; }

    /* RESPONSIVE */
    @media (max-width: 768px) {
      .nav-links { gap: 1rem; }
      .page-header h1 { font-size: 1.75rem; }
      .toc ul { flex-direction: column; }
      .footer-inner { flex-direction: column; gap: 1rem; }
    }

    /* PAGE-SPECIFIC CSS */

    /* HERO */
    .hero {
      padding: 6rem 2rem 4rem;
      max-width: var(--max-w);
      margin: 0 auto;
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 4rem;
      align-items: center;
    }
    .hero-logo { width: 96px; height: 96px; image-rendering: pixelated; margin-bottom: 1.25rem; }
    .hero-text h1 {
      font-size: 3.25rem;
      font-weight: 800;
      line-height: 1.1;
      letter-spacing: -0.03em;
      margin-bottom: 1.25rem;
    }
    .hero-text p {
      color: var(--text-muted);
      font-size: 1.15rem;
      line-height: 1.65;
      margin-bottom: 2rem;
      max-width: 480px;
    }
    .hero-actions { display: flex; gap: 0.75rem; align-items: center; margin-bottom: 2rem; }
    .btn {
      display: inline-flex;
      align-items: center;
      gap: 0.4rem;
      padding: 0.65rem 1.5rem;
      border-radius: 8px;
      font-size: 0.9rem;
      font-weight: 600;
      text-decoration: none;
      transition: all 0.15s;
      border: none;
      cursor: pointer;
    }
    .btn-primary { background: var(--accent); color: #fff; }
    .btn-primary:hover { background: var(--accent-dark); }
    .btn-ghost { color: var(--text); border: 1px solid var(--border); background: var(--surface); }
    .btn-ghost:hover { border-color: var(--text-muted); }

    /* TERMINAL */
    .terminal {
      background: var(--code-bg);
      border-radius: 12px;
      overflow: hidden;
      box-shadow: 0 25px 60px -12px rgba(0, 0, 0, 0.25);
      font-family: var(--mono);
      font-size: 0.8rem;
      line-height: 1.8;
    }
    .terminal-bar {
      display: flex;
      align-items: center;
      gap: 6px;
      padding: 12px 16px;
      background: #1a2332;
    }
    .terminal-dot { width: 10px; height: 10px; border-radius: 50%; }
    .terminal-dot.r { background: #f97066; }
    .terminal-dot.y { background: #fbbf24; }
    .terminal-dot.g { background: #34d399; }
    .terminal-title { color: #64748b; font-size: 0.7rem; margin-left: auto; }
    .terminal-body { padding: 1rem 1.25rem; color: var(--code-text); }
    .terminal-body .prompt { color: var(--teal); }
    .terminal-body .cmd { color: #e2e8f0; }
    .terminal-body .comment { color: #475569; }
    .terminal-body .output { color: #94a3b8; }
    .terminal-body .highlight { color: var(--coral); }
    .terminal-body .success { color: var(--teal); }

    /* SECTIONS */
    section { padding: 5rem 2rem; }
    .container { max-width: var(--max-w); margin: 0 auto; }
    .section-label {
      font-family: var(--mono);
      font-size: 0.75rem;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.08em;
      color: var(--accent);
      margin-bottom: 0.5rem;
    }
    .section-title {
      font-size: 2rem;
      font-weight: 700;
      letter-spacing: -0.02em;
      margin-bottom: 0.75rem;
    }
    .section-desc {
      color: var(--text-muted);
      font-size: 1.05rem;
      max-width: 560px;
      margin-bottom: 3rem;
    }

    /* FEATURES */
    .features-section { background: var(--bg-alt); }
    .features-list { display: flex; flex-direction: column; gap: 1px; background: var(--border); border-radius: 12px; overflow: hidden; }
    .feature-row {
      display: grid;
      grid-template-columns: 200px 1fr;
      background: var(--surface);
      padding: 1.5rem 2rem;
      gap: 2rem;
      align-items: start;
      transition: background 0.15s;
    }
    .feature-row:hover { background: var(--bg-alt); }
    .feature-name {
      font-family: var(--mono);
      font-weight: 700;
      font-size: 0.9rem;
      color: var(--accent);
    }
    .feature-detail h3 { font-size: 1rem; font-weight: 600; margin-bottom: 0.25rem; }
    .feature-detail p { color: var(--text-muted); font-size: 0.9rem; }

    /* CHANNELS */
    .channels-grid {
      display: grid;
      grid-template-columns: repeat(5, 1fr);
      gap: 1px;
      background: var(--border);
      border-radius: 12px;
      overflow: hidden;
      margin-bottom: 2rem;
    }
    .channel-card {
      background: var(--surface);
      padding: 2rem 1.5rem;
      text-align: center;
      transition: background 0.15s;
    }
    .channel-card:hover { background: var(--bg-alt); }
    .channel-icon { font-size: 2rem; margin-bottom: 0.75rem; }
    .channel-name { font-weight: 700; font-size: 0.9rem; margin-bottom: 0.25rem; }
    .channel-sub { color: var(--text-muted); font-size: 0.75rem; }

    /* TOOLS */
    .tools-section { background: var(--bg-alt); }
    .tools-categories { display: flex; flex-direction: column; gap: 3rem; }
    .tool-cat-label {
      font-family: var(--mono);
      font-size: 0.7rem;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 0.1em;
      color: var(--text-light);
      margin-bottom: 1rem;
      padding-bottom: 0.5rem;
      border-bottom: 1px solid var(--border);
    }
    .tool-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
      gap: 0.75rem;
    }
    .tool-item {
      display: flex;
      align-items: flex-start;
      gap: 0.75rem;
      padding: 1rem 1.25rem;
      background: var(--surface);
      border: 1px solid var(--border);
      border-radius: 10px;
      transition: border-color 0.15s, box-shadow 0.15s;
      cursor: pointer;
      user-select: none;
    }
    .tool-item:hover {
      border-color: var(--accent);
      box-shadow: 0 2px 8px rgba(14, 165, 233, 0.06);
    }
    .tool-item.active {
      border-color: var(--accent);
      box-shadow: 0 2px 12px rgba(14, 165, 233, 0.1);
    }
    .tool-name {
      font-family: var(--mono);
      font-weight: 600;
      font-size: 0.85rem;
      color: var(--text);
      white-space: nowrap;
    }
    .tool-desc { color: var(--text-muted); font-size: 0.8rem; }
    .tool-detail {
      display: none;
      grid-column: 1 / -1;
      background: var(--surface);
      border: 1px solid var(--accent);
      border-radius: 10px;
      padding: 1rem 1.5rem;
      font-size: 0.85rem;
      line-height: 1.6;
      color: var(--text);
      animation: toolDetailIn 0.15s ease-out;
    }
    .tool-detail.visible { display: block; }
    .tool-detail .tool-detail-name {
      font-family: var(--mono);
      font-weight: 700;
      font-size: 0.8rem;
      color: var(--accent);
      margin-bottom: 0.35rem;
    }
    .tool-detail p { color: var(--text-muted); margin: 0; }
    @keyframes toolDetailIn {
      from { opacity: 0; transform: translateY(-4px); }
      to { opacity: 1; transform: translateY(0); }
    }
    .tool-dot { width: 6px; height: 6px; border-radius: 50%; flex-shrink: 0; margin-top: 0.45rem; }
    .tool-dot.core { background: var(--accent); }
    .tool-dot.setup { background: var(--purple); }
    .tool-dot.ext { background: var(--coral); }
    .tools-legend {
      display: flex;
      gap: 1.5rem;
      margin-bottom: 2rem;
      font-size: 0.8rem;
      color: var(--text-muted);
    }
    .tools-legend span { display: flex; align-items: center; gap: 0.5rem; }

    /* CONFIG / CODE (index overrides) */
    pre {
      border-radius: 10px;
      padding: 1.25rem 1.5rem;
      line-height: 1.8;
      margin: 0;
    }
    .code-label {
      font-family: var(--mono);
      font-size: 0.7rem;
      color: var(--text-light);
      margin-bottom: 0.5rem;
    }
    .hl-key { color: #7dd3fc; }
    .hl-str { color: #a5f3fc; }
    .hl-num { color: #fdba74; }
    .hl-comment { color: #475569; }

    /* INSTALL */
    .steps { display: grid; grid-template-columns: repeat(2, 1fr); gap: 2rem; }
    .step {
      background: var(--surface);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 1.75rem;
    }
    .step-num {
      font-family: var(--mono);
      font-weight: 800;
      font-size: 0.75rem;
      color: var(--accent);
      margin-bottom: 0.5rem;
    }
    .step h3 { font-size: 1rem; font-weight: 600; margin-bottom: 0.5rem; }
    .step p { color: var(--text-muted); font-size: 0.85rem; margin-bottom: 1rem; }
    .step pre { margin: 0; font-size: 0.78rem; }

    /* PROVIDERS */
    .providers-row {
      display: flex;
      flex-wrap: wrap;
      gap: 0.5rem;
    }
    .provider-tag {
      display: inline-flex;
      align-items: center;
      background: var(--surface);
      border: 1px solid var(--border);
      border-radius: 8px;
      padding: 0.5rem 1rem;
      font-size: 0.85rem;
      font-weight: 600;
      transition: border-color 0.15s;
    }
    .provider-tag:hover { border-color: var(--accent); }
    .provider-tag .sub { color: var(--text-muted); font-weight: 400; font-size: 0.75rem; margin-left: 0.5rem; }

    /* ARCHITECTURE */
    .arch-section { background: var(--code-bg); color: var(--code-text); }
    .arch-section .section-label { color: var(--teal); }
    .arch-section .section-title { color: #f1f5f9; }
    .arch-section .section-desc { color: #94a3b8; }
    .arch-flow-box {
      font-family: var(--mono);
      font-size: 0.85rem;
      background: #1e293b;
      border: 1px solid #334155;
      border-radius: 10px;
      padding: 1.75rem;
      text-align: center;
      line-height: 2.2;
      margin-bottom: 2.5rem;
    }
    .arch-flow-box .node {
      display: inline-block;
      border: 1px solid #475569;
      border-radius: 6px;
      padding: 0.3rem 1rem;
      background: rgba(14, 165, 233, 0.08);
      color: #7dd3fc;
      font-weight: 600;
    }
    .arch-flow-box .arrow { color: #475569; margin: 0 0.5rem; }
    .arch-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 1px;
      background: #334155;
      border-radius: 10px;
      overflow: hidden;
    }
    .arch-card {
      background: #1e293b;
      padding: 1.5rem;
    }
    .arch-card h3 {
      font-family: var(--mono);
      font-size: 0.85rem;
      color: var(--teal);
      margin-bottom: 0.5rem;
    }
    .arch-card p { color: #94a3b8; font-size: 0.8rem; line-height: 1.6; }

    /* STRUCTURE */
    .structure-section { background: var(--bg-alt); }
    .structure-pre { max-width: 600px; }

    /* CTA */
    .cta-section {
      text-align: center;
      background: var(--bg);
      border-top: 1px solid var(--border);
    }
    .cta-section h2 {
      font-size: 2rem;
      font-weight: 700;
      letter-spacing: -0.02em;
      margin-bottom: 0.75rem;
    }
    .cta-section p { color: var(--text-muted); margin-bottom: 2rem; }
    .cta-actions { display: flex; gap: 0.75rem; justify-content: center; }

    /* RESPONSIVE */
    @media (max-width: 768px) {
      .hero { grid-template-columns: 1fr; padding-top: 4rem; }
      .hero-text h1 { font-size: 2.25rem; }
      .terminal { display: none; }
      .channels-grid { grid-template-columns: repeat(3, 1fr); }
      .steps { grid-template-columns: 1fr; }
      .arch-grid { grid-template-columns: 1fr; }
      .feature-row { grid-template-columns: 1fr; gap: 0.25rem; }
      section { padding: 3rem 1.25rem; }
    }

  </style>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@400;500;600;700&family=IBM+Plex+Sans:wght@400;500;600;700;800&display=swap" rel="stylesheet">
</head>
<body>

<nav>
  <div class="nav-inner">
    <a href="index.html" class="nav-logo"><img src="oxicrab.png" alt="" width="28" height="28"><span class="oxi">oxi</span>crab</a>
    <ul class="nav-links">
      <li><a href="index.html" class="active">Home</a></li>
      <li><a href="config.html" >Config</a></li>
      <li><a href="channels.html" >Channels</a></li>
      <li><a href="tools.html" >Tools</a></li>
      <li><a href="workspace.html" >Workspace</a></li>
      <li><a href="deploy.html" >Deploy</a></li>
      <li><a href="cli.html" >CLI</a></li>
      <li><a href="https://github.com/oxicrab/oxicrab">GitHub</a></li>
    </ul>
  </div>
</nav>

<!-- HERO -->
<section class="hero">
  <div class="hero-text">
    <img src="oxicrab.png" alt="oxicrab" class="hero-logo">
    <h1>Multi-channel AI agents, built in Rust.</h1>
    <p>Connect Telegram, Discord, Slack, WhatsApp, and Twilio to any LLM. 24 built-in tools, long-term memory, subagents, cron scheduling, and MCP support.</p>
    <div class="hero-actions">
      <a href="#install" class="btn btn-primary">Get Started</a>
      <a href="https://github.com/oxicrab/oxicrab" class="btn btn-ghost">View Source</a>
    </div>
  </div>
  <div class="terminal">
    <div class="terminal-bar">
      <div class="terminal-dot r"></div>
      <div class="terminal-dot y"></div>
      <div class="terminal-dot g"></div>
      <div class="terminal-title">oxicrab gateway</div>
    </div>
    <div class="terminal-body">
      <span class="comment"># start multi-channel daemon</span><br>
      <span class="prompt">$</span> <span class="cmd">oxicrab gateway</span><br>
      <span class="output">INFO  loading config from ~/.oxicrab/config.json</span><br>
      <span class="output">INFO  registered 23 tools + 2 MCP servers</span><br>
      <span class="success">INFO  telegram channel started</span><br>
      <span class="success">INFO  discord channel started</span><br>
      <span class="success">INFO  slack channel started (websocket)</span><br>
      <span class="output">INFO  cron service started (3 jobs)</span><br>
      <span class="output">INFO  memory indexer running (300s interval)</span><br>
      <span class="success">INFO  oxicrab is ready</span><br>
      <br>
      <span class="comment"># or single-turn CLI mode</span><br>
      <span class="prompt">$</span> <span class="cmd">oxicrab agent -m "summarize my inbox"</span><br>
      <span class="output">Searching gmail for recent messages...</span><br>
      <span class="output">Found 12 unread emails. Here's your summary:</span><br>
      <span class="highlight">1.</span> <span class="output">AWS billing alert &mdash; $47.22 for January</span><br>
      <span class="highlight">2.</span> <span class="output">PR #142 approved by @reviewer</span><br>
      <span class="highlight">3.</span> <span class="output">Team standup notes for Monday</span><br>
    </div>
  </div>
</section>

<div style="max-width: var(--max-w); margin: 0 auto; padding: 0 2rem;">
  <div class="toc">
    <div class="toc-title">On this page</div>
    <ul>
      <li><a href="#features">Features</a></li>
      <li><a href="#channels">Channels</a></li>
      <li><a href="#tools">Tools</a></li>
      <li><a href="#install">Install</a></li>
      <li><a href="#config">Config</a></li>
      <li><a href="#providers">Providers</a></li>
      <li><a href="#architecture">Architecture</a></li>
    </ul>
  </div>
</div>

<!-- FEATURES -->
<section id="features" class="features-section">
  <div class="container">
    <div class="section-label">Features</div>
    <div class="section-title">Built for real-world AI agents</div>
    <div class="section-desc">Everything you need to deploy autonomous assistants. Async-first, security-hardened, built from the ground up in Rust.</div>

    <div class="features-list">
      <div class="feature-row">
        <div class="feature-name">Multi-Channel</div>
        <div class="feature-detail">
          <h3>Five platforms, one codebase</h3>
          <p>Telegram, Discord, Slack, WhatsApp, Twilio SMS/MMS. Each is a Cargo feature flag &mdash; compile only what you deploy.</p>
        </div>
      </div>
      <div class="feature-row">
        <div class="feature-name">LLM Providers</div>
        <div class="feature-detail">
          <h3>Anthropic, OpenAI, Google, and OpenAI-compatible</h3>
          <p>Claude, GPT, Gemini natively, plus OpenRouter, DeepSeek, Groq, Ollama, Moonshot, Zhipu, DashScope, and vLLM via OpenAI-compatible adapter. OAuth support and automatic provider selection by model name.</p>
        </div>
      </div>
      <div class="feature-row">
        <div class="feature-name">Long-Term Memory + RAG</div>
        <div class="feature-detail">
          <h3>SQLite FTS5 with optional vector search and knowledge ingestion</h3>
          <p>Background indexing, automatic fact extraction from conversations, daily notes, and optional hybrid vector+keyword search via local ONNX embeddings. Quality gates filter low-signal content and reframe negative memories before persistence. Drop .md, .txt, or .html files into <code>knowledge/</code> for automatic RAG indexing.</p>
        </div>
      </div>
      <div class="feature-row">
        <div class="feature-name">23 Built-in Tools</div>
        <div class="feature-detail">
          <h3>Filesystem, shell, web, browser, and more</h3>
          <p>Every tool has timeout protection, panic isolation via tokio::spawn, result caching, binary blob sanitization, and truncation middleware. Plus MCP for external tool servers.</p>
        </div>
      </div>
      <div class="feature-row">
        <div class="feature-name">Subagents</div>
        <div class="feature-detail">
          <h3>Parallel background task execution</h3>
          <p>Capability-based tool access (full, read-only, or denied per tool), semaphore-based concurrency control, context injection from compaction summaries, silent mode for daemon tasks, and lifecycle management.</p>
        </div>
      </div>
      <div class="feature-row">
        <div class="feature-name">Sessions</div>
        <div class="feature-detail">
          <h3>Persistent sessions with automatic compaction</h3>
          <p>Per-channel session management with context summarization. Long conversations are automatically compacted to stay within context limits while preserving key information. Orphaned tool messages are cleaned up post-compaction to prevent API errors.</p>
        </div>
      </div>
      <div class="feature-row">
        <div class="feature-name">Hallucination Detection</div>
        <div class="feature-detail">
          <h3>Catches false claims and phantom actions</h3>
          <p>Action claim detection, false no-tools-claim retry, tool facts injection, and reflection turns. Prevents the agent from claiming it did something it didn&rsquo;t.</p>
        </div>
      </div>
      <div class="feature-row">
        <div class="feature-name">Status Messages</div>
        <div class="feature-detail">
          <h3>Live tool progress in a single editable message</h3>
          <p>Tool execution progress shown as a single message that edits in-place (Telegram, Discord, Slack). Includes typing indicator and automatic cleanup on completion.</p>
        </div>
      </div>
      <div class="feature-row">
        <div class="feature-name">Connection Resilience</div>
        <div class="feature-detail">
          <h3>Auto-reconnect with exponential backoff</h3>
          <p>All channels automatically reconnect on disconnection with exponential backoff. No manual intervention needed for transient network issues.</p>
        </div>
      </div>
      <div class="feature-row">
        <div class="feature-name">Cron Scheduling</div>
        <div class="feature-detail">
          <h3>Agent mode or echo mode</h3>
          <p>Cron expressions, intervals, one-shot timers. Agent mode triggers a full LLM turn; echo mode delivers messages directly. Auto-expiry and run limits.</p>
        </div>
      </div>
      <div class="feature-row">
        <div class="feature-name">Credentials</div>
        <div class="feature-detail">
          <h3>Multi-backend credential management</h3>
          <p>OS keyring (macOS Keychain, GNOME Keyring, Windows Credential Manager), external credential helpers (1Password, Bitwarden, custom scripts), and 28 OXICRAB_* env var overrides. Resolution: env &rarr; helper &rarr; keyring &rarr; config.json.</p>
        </div>
      </div>
      <div class="feature-row">
        <div class="feature-name">Security</div>
        <div class="feature-detail">
          <h3>Defense in depth</h3>
          <p>Per-channel DM policy (allowlist/pairing/open) with default-deny sender allowlists, outbound leak detection (two-phase Aho-Corasick + regex scanning for API key patterns across plaintext, base64, and hex encodings â€” redacts before sending), shell AST analysis (structural command validation via brush-parser), kernel-level process sandbox (Landlock on Linux, Seatbelt on macOS), shell command allowlists + regex blocklists, SSRF protection, path traversal prevention, secret redaction in logs, constant-time webhook signature validation.</p>
        </div>
      </div>
      <div class="feature-row">
        <div class="feature-name">Voice</div>
        <div class="feature-detail">
          <h3>Dual-backend transcription</h3>
          <p>Local whisper.cpp inference or cloud Whisper API. Automatic routing with fallback. Audio converted to 16kHz mono via ffmpeg subprocess.</p>
        </div>
      </div>
      <div class="feature-row">
        <div class="feature-name">MCP</div>
        <div class="feature-detail">
          <h3>Model Context Protocol support</h3>
          <p>Connect external tool servers via child processes. Tools are auto-discovered at startup and registered as native tools with full middleware pipeline.</p>
        </div>
      </div>
      <div class="feature-row">
        <div class="feature-name">HTTP Gateway</div>
        <div class="feature-detail">
          <h3>REST API, webhooks, and A2A protocol</h3>
          <p>Programmatic access via <code>POST /api/chat</code>. Named webhook endpoints with HMAC-SHA256 signature validation. Google A2A protocol for agent discovery and interoperability. Echo mode for channel testing without LLM.</p>
        </div>
      </div>
      <div class="feature-row">
        <div class="feature-name">Context Providers</div>
        <div class="feature-detail">
          <h3>Dynamic system prompt injection</h3>
          <p>Shell commands that inject live context into every LLM turn. Cached with configurable TTL, dependency-checked, and silently skipped on failure. Add git status, environment info, or any external data to the system prompt.</p>
        </div>
      </div>
      <div class="feature-row">
        <div class="feature-name">JSON Mode</div>
        <div class="feature-detail">
          <h3>Structured output from any provider</h3>
          <p>Per-request JSON mode and JSON schema support. Native implementation for OpenAI and Gemini. System prompt hint for Anthropic. Configurable via <code>ResponseFormat</code>.</p>
        </div>
      </div>
      <div class="feature-row">
        <div class="feature-name">CostGuard</div>
        <div class="feature-detail">
          <h3>Daily budget and rate limiting</h3>
          <p>Set a daily spending cap in cents and an hourly action limit. Embedded pricing data for 50+ models with automatic midnight UTC reset. AtomicBool fast-path for exceeded budgets.</p>
        </div>
      </div>
      <div class="feature-row">
        <div class="feature-name">Circuit Breaker</div>
        <div class="feature-detail">
          <h3>Provider resilience</h3>
          <p>Three-state circuit breaker (Closed &rarr; Open &rarr; HalfOpen) wraps the LLM provider. Trips on transient errors (429, 5xx, timeout) but ignores auth failures. Configurable threshold, recovery timeout, and probe count.</p>
        </div>
      </div>
      <div class="feature-row">
        <div class="feature-name">Doctor</div>
        <div class="feature-detail">
          <h3>System diagnostics</h3>
          <p>Run <code>oxicrab doctor</code> to check config, workspace, provider connectivity, channel status, voice backends, external tools, and MCP servers. PASS/FAIL/SKIP output for every check.</p>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- CHANNELS -->
<section id="channels">
  <div class="container">
    <div class="section-label">Channels</div>
    <div class="section-title">One bot, every platform</div>
    <div class="section-desc">Deploy to all major messaging platforms simultaneously. Each channel is a compile-time feature flag for minimal binary size.</div>

    <div class="channels-grid">
      <div class="channel-card">
        <div class="channel-icon">&#9992;&#65039;</div>
        <div class="channel-name">Telegram</div>
        <div class="channel-sub">Polling, media, allowFrom</div>
      </div>
      <div class="channel-card">
        <div class="channel-icon">&#127918;</div>
        <div class="channel-name">Discord</div>
        <div class="channel-sub">Reactions, guild + DM</div>
      </div>
      <div class="channel-card">
        <div class="channel-icon">&#128188;</div>
        <div class="channel-name">Slack</div>
        <div class="channel-sub">WebSocket, threads</div>
      </div>
      <div class="channel-card">
        <div class="channel-icon">&#128241;</div>
        <div class="channel-name">WhatsApp</div>
        <div class="channel-sub">QR auth, media, groups</div>
      </div>
      <div class="channel-card">
        <div class="channel-icon">&#128222;</div>
        <div class="channel-name">Twilio</div>
        <div class="channel-sub">SMS/MMS, webhooks</div>
      </div>
    </div>

    <pre><span class="hl-comment"># Build only the channels you need</span>
cargo build --release --no-default-features \
    --features channel-telegram,channel-slack</pre>
  </div>
</section>

<!-- TOOLS -->
<section id="tools" class="tools-section">
  <div class="container">
    <div class="section-label">Tools</div>
    <div class="section-title">24 built-in tools + MCP</div>
    <div class="section-desc">A comprehensive toolkit for autonomous agents. Every tool features timeout protection, panic isolation, and result caching.</div>

    <div class="tools-legend">
      <span><span class="tool-dot core" style="display:inline-block;"></span> Core</span>
      <span><span class="tool-dot setup" style="display:inline-block;"></span> Requires config</span>
      <span><span class="tool-dot ext" style="display:inline-block;"></span> External</span>
    </div>

    <div class="tools-categories">
      <div>
        <div class="tool-cat-label">Filesystem &amp; Shell</div>
        <div class="tool-grid">
          <div class="tool-item" data-detail="Read the contents of a file at the given path. Includes path traversal protection to prevent access outside the workspace."><span class="tool-dot core"></span><div><span class="tool-name">read_file</span><br><span class="tool-desc">Read with path traversal protection</span></div></div>
          <div class="tool-item" data-detail="Write content to a file at the given path. Creates parent directories if needed. Saves versioned backups before overwriting."><span class="tool-dot core"></span><div><span class="tool-name">write_file</span><br><span class="tool-desc">Write with versioned backups</span></div></div>
          <div class="tool-item" data-detail="Edit a file by replacing old_text with new_text. The old_text must exist exactly in the file. Useful for surgical edits without rewriting entire files."><span class="tool-dot core"></span><div><span class="tool-name">edit_file</span><br><span class="tool-desc">Find and replace diffs</span></div></div>
          <div class="tool-item" data-detail="List the contents of a directory. Returns file names, sizes, and types."><span class="tool-dot core"></span><div><span class="tool-name">list_dir</span><br><span class="tool-desc">Directory listing</span></div></div>
          <div class="tool-item" data-detail="Execute a shell command and return its output. Secured with configurable allowlists and blocklists to restrict which commands can be run. Timeout-protected."><span class="tool-dot core"></span><div><span class="tool-name">exec</span><br><span class="tool-desc">Shell with allowlist security</span></div></div>
          <div class="tool-item" data-detail="Manage persistent tmux shell sessions. Create long-running sessions, send commands, and read output. Ideal for processes that outlive a single tool call."><span class="tool-dot core"></span><div><span class="tool-name">tmux</span><br><span class="tool-desc">Persistent terminal sessions</span></div></div>
        </div>
      </div>
      <div>
        <div class="tool-cat-label">Web &amp; Network</div>
        <div class="tool-grid">
          <div class="tool-item" data-detail="Search the web. Returns titles, URLs, and snippets. Uses Brave Search if an API key is configured, otherwise falls back to DuckDuckGo."><span class="tool-dot core"></span><div><span class="tool-name">web_search</span><br><span class="tool-desc">Brave + DuckDuckGo fallback</span></div></div>
          <div class="tool-item" data-detail="Fetch a URL and extract readable content. Converts HTML to markdown/text for easy consumption by the agent."><span class="tool-dot core"></span><div><span class="tool-name">web_fetch</span><br><span class="tool-desc">HTML to markdown extraction</span></div></div>
          <div class="tool-item" data-detail="Make HTTP requests (GET, POST, PUT, PATCH, DELETE). For REST APIs, webhooks, and external services. Supports custom headers and JSON bodies."><span class="tool-dot core"></span><div><span class="tool-name">http</span><br><span class="tool-desc">GET, POST, PUT, PATCH, DELETE</span></div></div>
          <div class="tool-item" data-detail="Browse Reddit. Get hot, new, or top posts from a subreddit, or search within a subreddit. Read-only, no authentication required."><span class="tool-dot core"></span><div><span class="tool-name">reddit</span><br><span class="tool-desc">Browse subreddit posts</span></div></div>
          <div class="tool-item" data-detail="Control a headless browser for web automation. Open pages, click elements, type text, take screenshots, and extract content via Chrome DevTools Protocol."><span class="tool-dot setup"></span><div><span class="tool-name">browser</span><br><span class="tool-desc">Chrome DevTools Protocol</span></div></div>
        </div>
      </div>
      <div>
        <div class="tool-cat-label">Communication &amp; Agents</div>
        <div class="tool-grid">
          <div class="tool-item" data-detail="Spawn a subagent to handle a task in the background. Tools are filtered by capability metadata: full access (filesystem, shell, web_search), read-only access (GitHub, Gmail, Calendar, etc.), or denied (http, MCP, spawn). Reports back when done."><span class="tool-dot core"></span><div><span class="tool-name">spawn</span><br><span class="tool-desc">Launch background subagents</span></div></div>
          <div class="tool-item" data-detail="List or cancel running subagents. Use to track background tasks or stop one by ID. Semaphore-based concurrency control limits parallel agents."><span class="tool-dot core"></span><div><span class="tool-name">subagent_control</span><br><span class="tool-desc">List and cancel running agents</span></div></div>
          <div class="tool-item" data-detail="Schedule recurring or one-shot tasks. Two job types: 'agent' processes the message as a full LLM turn with all tools; 'echo' delivers messages directly without invoking the LLM. Supports cron expressions, intervals, and one-shot ISO 8601 times. Optional expires_at and max_runs limits."><span class="tool-dot core"></span><div><span class="tool-name">cron</span><br><span class="tool-desc">Schedule recurring tasks</span></div></div>
          <div class="tool-item" data-detail="Search long-term memory and daily notes. Use to recall user preferences, past conversations, and important facts. Supports FTS5 full-text search with optional hybrid vector+keyword search via local ONNX embeddings."><span class="tool-dot core"></span><div><span class="tool-name">memory_search</span><br><span class="tool-desc">FTS5 + hybrid vector search</span></div></div>
        </div>
      </div>
      <div>
        <div class="tool-cat-label">Integrations</div>
        <div class="tool-grid">
          <div class="tool-item" data-detail="Interact with Gmail. Requires Google OAuth configuration."><span class="tool-dot setup"></span><div><span class="tool-name">google_mail</span><br><span class="tool-desc">Gmail read, send, and manage</span></div></div>
          <div class="tool-item" data-detail="Interact with Google Calendar. Requires Google OAuth configuration."><span class="tool-dot setup"></span><div><span class="tool-name">google_calendar</span><br><span class="tool-desc">Event management</span></div></div>
          <div class="tool-item" data-detail="Interact with GitHub. Issues, pull requests, file content, PR reviews, and CI/CD workflows. Requires a GitHub personal access token."><span class="tool-dot setup"></span><div><span class="tool-name">github</span><br><span class="tool-desc">Issues, PRs, and repos</span></div></div>
          <div class="tool-item" data-detail="Get current weather or forecast for a location. Uses OpenWeatherMap API."><span class="tool-dot setup"></span><div><span class="tool-name">weather</span><br><span class="tool-desc">OpenWeatherMap forecasts</span></div></div>
          <div class="tool-item" data-detail="Manage Todoist tasks and projects with comments. Requires a Todoist API token."><span class="tool-dot setup"></span><div><span class="tool-name">todoist</span><br><span class="tool-desc">Task management</span></div></div>
          <div class="tool-item" data-detail="Manage movies and TV series via Radarr and Sonarr. Requires API keys for each service."><span class="tool-dot setup"></span><div><span class="tool-name">media</span><br><span class="tool-desc">Radarr and Sonarr integration</span></div></div>
          <div class="tool-item" data-detail="Read, write, search, and list notes in an Obsidian vault. Requires vault path configuration."><span class="tool-dot setup"></span><div><span class="tool-name">obsidian</span><br><span class="tool-desc">Vault read, write, and search</span></div></div>
          <div class="tool-item" data-detail="Generate images from text prompts using AI. Supports OpenAI DALL-E and Google Imagen 3."><span class="tool-dot setup"></span><div><span class="tool-name">image_gen</span><br><span class="tool-desc">OpenAI DALL-E / Google Imagen</span></div></div>
          <div class="tool-item" data-detail="Connect external tool servers via Model Context Protocol. Tools are auto-discovered at startup from child processes and registered as native tools with full middleware pipeline support."><span class="tool-dot ext"></span><div><span class="tool-name">MCP servers</span><br><span class="tool-desc">Auto-discovered external tools</span></div></div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- INSTALL -->
<section id="install">
  <div class="container">
    <div class="section-label">Getting Started</div>
    <div class="section-title">Up and running in minutes</div>
    <div class="section-desc">Pre-built binaries are published for every release. Pick your platform and go.</div>

    <div class="steps">
      <div class="step">
        <div class="step-num">01</div>
        <h3>Install</h3>
        <p>Download the latest release for your platform.</p>
        <pre><span class="hl-comment"># Debian / Ubuntu</span>
curl -LO https://github.com/oxicrab/oxicrab/releases/latest/download/oxicrab_VERSION_amd64.deb
sudo dpkg -i oxicrab_*_amd64.deb

<span class="hl-comment"># Fedora / RHEL</span>
curl -LO https://github.com/oxicrab/oxicrab/releases/latest/download/oxicrab-VERSION.x86_64.rpm
sudo rpm -i oxicrab-*.x86_64.rpm

<span class="hl-comment"># macOS (Apple Silicon)</span>
brew install oxicrab/tap/oxicrab</pre>
        <p style="font-size: 0.8rem; color: var(--text-light); margin-top: 0.5rem;">ARM64 Linux and standalone tarballs also available on the <a href="https://github.com/oxicrab/oxicrab/releases/latest" style="color: var(--accent); text-decoration: none;">Releases</a> page.</p>
      </div>
      <div class="step">
        <div class="step-num">02</div>
        <h3>Configure</h3>
        <p>Create config with your API keys and channel tokens.</p>
        <pre>oxicrab onboard
<span class="hl-comment"># or manually:</span>
mkdir -p ~/.oxicrab
cp config.example.json ~/.oxicrab/config.json</pre>
      </div>
      <div class="step">
        <div class="step-num">03</div>
        <h3>Run</h3>
        <p>Start the multi-channel gateway or use CLI mode.</p>
        <pre>oxicrab gateway
oxicrab agent -m "Hello!"
oxicrab doctor</pre>
      </div>
      <div class="step">
        <div class="step-num">04</div>
        <h3>Deploy as a service</h3>
        <p>Run oxicrab as a persistent daemon.</p>
        <pre><span class="hl-comment"># Linux (systemd user service)</span>
cp deploy/oxicrab.service ~/.config/systemd/user/
systemctl --user enable --now oxicrab

<span class="hl-comment"># macOS (launchd)</span>
cp deploy/com.oxicrab.gateway.plist \
   ~/Library/LaunchAgents/
launchctl load ~/Library/LaunchAgents/com.oxicrab.gateway.plist</pre>
        <p style="font-size: 0.8rem; color: var(--text-light); margin-top: 0.5rem;">See <a href="deploy.html" style="color: var(--accent); text-decoration: none;">Deployment</a> for Docker, Docker Compose, building from source, and detailed service configuration.</p>
      </div>
    </div>
  </div>
</section>

<!-- CONFIG -->
<section id="config" style="background: var(--bg-alt);">
  <div class="container">
    <div class="section-label">Configuration</div>
    <div class="section-title">Simple JSON config</div>
    <div class="section-desc">One file controls everything. camelCase in JSON, snake_case in Rust.</div>

    <div style="max-width: 720px;">
      <div class="code-label">~/.oxicrab/config.json &mdash; <a href="https://github.com/oxicrab/oxicrab/blob/main/config.example.json" style="color: var(--accent); text-decoration: none; font-size: 0.7rem;">config.example.json</a></div>
      <pre style="max-height: 600px; overflow-y: auto;">{
  <span class="hl-key">"agents"</span>: {
    <span class="hl-key">"defaults"</span>: {
      <span class="hl-key">"workspace"</span>: <span class="hl-str">"~/.oxicrab/workspace"</span>,
      <span class="hl-key">"model"</span>: <span class="hl-str">"claude-sonnet-4-5-20250929"</span>,
      <span class="hl-key">"maxTokens"</span>: <span class="hl-num">8192</span>,
      <span class="hl-key">"temperature"</span>: <span class="hl-num">0.7</span>,
      <span class="hl-key">"maxToolIterations"</span>: <span class="hl-num">20</span>,
      <span class="hl-key">"sessionTtlDays"</span>: <span class="hl-num">30</span>,
      <span class="hl-key">"memoryIndexerInterval"</span>: <span class="hl-num">300</span>,
      <span class="hl-key">"mediaTtlDays"</span>: <span class="hl-num">7</span>,
      <span class="hl-key">"maxConcurrentSubagents"</span>: <span class="hl-num">5</span>,
      <span class="hl-key">"localModel"</span>: <span class="hl-num">null</span>,
      <span class="hl-key">"contextProviders"</span>: [],
      <span class="hl-key">"compaction"</span>: {
        <span class="hl-key">"enabled"</span>: <span class="hl-num">true</span>,
        <span class="hl-key">"thresholdTokens"</span>: <span class="hl-num">40000</span>,
        <span class="hl-key">"keepRecent"</span>: <span class="hl-num">10</span>,
        <span class="hl-key">"extractionEnabled"</span>: <span class="hl-num">true</span>,
        <span class="hl-key">"model"</span>: <span class="hl-num">null</span>,
        <span class="hl-key">"preFlushEnabled"</span>: <span class="hl-num">false</span>
      },
      <span class="hl-key">"daemon"</span>: {
        <span class="hl-key">"enabled"</span>: <span class="hl-num">true</span>,
        <span class="hl-key">"interval"</span>: <span class="hl-num">300</span>,
        <span class="hl-key">"executionModel"</span>: <span class="hl-num">null</span>,
        <span class="hl-key">"executionProvider"</span>: <span class="hl-num">null</span>,
        <span class="hl-key">"strategyFile"</span>: <span class="hl-str">"HEARTBEAT.md"</span>,
        <span class="hl-key">"maxIterations"</span>: <span class="hl-num">25</span>
      },
      <span class="hl-key">"memory"</span>: {
        <span class="hl-key">"archiveAfterDays"</span>: <span class="hl-num">30</span>,
        <span class="hl-key">"purgeAfterDays"</span>: <span class="hl-num">90</span>,
        <span class="hl-key">"embeddingsEnabled"</span>: <span class="hl-num">false</span>,
        <span class="hl-key">"embeddingsModel"</span>: <span class="hl-str">"BAAI/bge-small-en-v1.5"</span>,
        <span class="hl-key">"hybridWeight"</span>: <span class="hl-num">0.5</span>,
        <span class="hl-key">"searchFusionStrategy"</span>: <span class="hl-str">"weighted_score"</span>,
        <span class="hl-key">"rrfK"</span>: <span class="hl-num">60</span>,
        <span class="hl-key">"embeddingCacheSize"</span>: <span class="hl-num">10000</span>
      },
      <span class="hl-key">"costGuard"</span>: {
        <span class="hl-key">"dailyBudgetCents"</span>: <span class="hl-num">500</span>,
        <span class="hl-key">"maxActionsPerHour"</span>: <span class="hl-num">100</span>
      }
    }
  },
  <span class="hl-key">"channels"</span>: {
    <span class="hl-key">"telegram"</span>: {
      <span class="hl-key">"enabled"</span>: <span class="hl-num">false</span>,
      <span class="hl-key">"token"</span>: <span class="hl-str">"your-telegram-bot-token"</span>,
      <span class="hl-key">"allowFrom"</span>: [],
      <span class="hl-key">"dmPolicy"</span>: <span class="hl-str">"allowlist"</span>,
      <span class="hl-key">"proxy"</span>: <span class="hl-num">null</span>
    },
    <span class="hl-key">"discord"</span>: {
      <span class="hl-key">"enabled"</span>: <span class="hl-num">false</span>,
      <span class="hl-key">"token"</span>: <span class="hl-str">"your-discord-bot-token"</span>,
      <span class="hl-key">"allowFrom"</span>: [],
      <span class="hl-key">"dmPolicy"</span>: <span class="hl-str">"allowlist"</span>
    },
    <span class="hl-key">"slack"</span>: {
      <span class="hl-key">"enabled"</span>: <span class="hl-num">false</span>,
      <span class="hl-key">"botToken"</span>: <span class="hl-str">"xoxb-your-slack-bot-token"</span>,
      <span class="hl-key">"appToken"</span>: <span class="hl-str">"xapp-your-slack-app-token"</span>,
      <span class="hl-key">"allowFrom"</span>: [],
      <span class="hl-key">"dmPolicy"</span>: <span class="hl-str">"allowlist"</span>
    },
    <span class="hl-key">"whatsapp"</span>: {
      <span class="hl-key">"enabled"</span>: <span class="hl-num">false</span>,
      <span class="hl-key">"allowFrom"</span>: [],
      <span class="hl-key">"dmPolicy"</span>: <span class="hl-str">"allowlist"</span>
    },
    <span class="hl-key">"twilio"</span>: {
      <span class="hl-key">"enabled"</span>: <span class="hl-num">false</span>,
      <span class="hl-key">"accountSid"</span>: <span class="hl-str">"your-twilio-account-sid"</span>,
      <span class="hl-key">"authToken"</span>: <span class="hl-str">"your-twilio-auth-token"</span>,
      <span class="hl-key">"phoneNumber"</span>: <span class="hl-str">"+1234567890"</span>,
      <span class="hl-key">"webhookPort"</span>: <span class="hl-num">8080</span>,
      <span class="hl-key">"webhookPath"</span>: <span class="hl-str">"/twilio/webhook"</span>,
      <span class="hl-key">"webhookUrl"</span>: <span class="hl-str">"https://your-domain.com/twilio/webhook"</span>,
      <span class="hl-key">"allowFrom"</span>: [],
      <span class="hl-key">"dmPolicy"</span>: <span class="hl-str">"allowlist"</span>
    }
  },
  <span class="hl-key">"providers"</span>: {
    <span class="hl-key">"anthropic"</span>: {
      <span class="hl-key">"apiKey"</span>: <span class="hl-str">"sk-ant-your-anthropic-key"</span>,
      <span class="hl-key">"apiBase"</span>: <span class="hl-num">null</span>
    },
    <span class="hl-key">"openai"</span>: {
      <span class="hl-key">"apiKey"</span>: <span class="hl-str">""</span>,
      <span class="hl-key">"apiBase"</span>: <span class="hl-num">null</span>
    },
    <span class="hl-key">"gemini"</span>: {
      <span class="hl-key">"apiKey"</span>: <span class="hl-str">""</span>,
      <span class="hl-key">"apiBase"</span>: <span class="hl-num">null</span>
    }
    <span class="hl-comment">// Also: OpenRouter, DeepSeek, Groq, Ollama, Moonshot, Zhipu, DashScope, vLLM</span>
    <span class="hl-key">"circuitBreaker"</span>: {
      <span class="hl-key">"enabled"</span>: <span class="hl-num">false</span>,
      <span class="hl-key">"failureThreshold"</span>: <span class="hl-num">5</span>,
      <span class="hl-key">"recoveryTimeoutSecs"</span>: <span class="hl-num">60</span>,
      <span class="hl-key">"halfOpenProbes"</span>: <span class="hl-num">2</span>
    }
  },
  <span class="hl-key">"gateway"</span>: {
    <span class="hl-key">"enabled"</span>: <span class="hl-num">true</span>,
    <span class="hl-key">"host"</span>: <span class="hl-str">"0.0.0.0"</span>,
    <span class="hl-key">"port"</span>: <span class="hl-num">18790</span>,
    <span class="hl-key">"webhooks"</span>: {},
    <span class="hl-key">"a2a"</span>: { <span class="hl-key">"enabled"</span>: <span class="hl-num">false</span> }
  },
  <span class="hl-key">"tools"</span>: {
    <span class="hl-key">"web"</span>: {
      <span class="hl-key">"search"</span>: {
        <span class="hl-key">"provider"</span>: <span class="hl-str">"brave"</span>,
        <span class="hl-key">"apiKey"</span>: <span class="hl-str">"your-brave-search-api-key"</span>,
        <span class="hl-key">"maxResults"</span>: <span class="hl-num">5</span>
      }
    },
    <span class="hl-key">"exec"</span>: {
      <span class="hl-key">"timeout"</span>: <span class="hl-num">60</span>,
      <span class="hl-key">"allowedCommands"</span>: [<span class="hl-str">"ls"</span>, <span class="hl-str">"find"</span>, <span class="hl-str">"cat"</span>, <span class="hl-str">"grep"</span>, <span class="hl-str">"git"</span>, <span class="hl-str">"cargo"</span>, <span class="hl-str">"node"</span>, <span class="hl-str">"python3"</span>]
    },
    <span class="hl-key">"restrictToWorkspace"</span>: <span class="hl-num">false</span>,
    <span class="hl-key">"google"</span>: {
      <span class="hl-key">"enabled"</span>: <span class="hl-num">false</span>,
      <span class="hl-key">"clientId"</span>: <span class="hl-str">"your-google-client-id"</span>,
      <span class="hl-key">"clientSecret"</span>: <span class="hl-str">"your-google-client-secret"</span>,
      <span class="hl-key">"scopes"</span>: [
        <span class="hl-str">"https://www.googleapis.com/auth/gmail.modify"</span>,
        <span class="hl-str">"https://www.googleapis.com/auth/gmail.send"</span>,
        <span class="hl-str">"https://www.googleapis.com/auth/calendar.events"</span>,
        <span class="hl-str">"https://www.googleapis.com/auth/calendar.readonly"</span>
      ]
    },
    <span class="hl-key">"github"</span>: {
      <span class="hl-key">"enabled"</span>: <span class="hl-num">false</span>,
      <span class="hl-key">"token"</span>: <span class="hl-str">"ghp_your-github-token"</span>
    },
    <span class="hl-key">"weather"</span>: {
      <span class="hl-key">"enabled"</span>: <span class="hl-num">false</span>,
      <span class="hl-key">"apiKey"</span>: <span class="hl-str">"your-openweathermap-api-key"</span>
    },
    <span class="hl-key">"todoist"</span>: {
      <span class="hl-key">"enabled"</span>: <span class="hl-num">false</span>,
      <span class="hl-key">"token"</span>: <span class="hl-str">"your-todoist-api-token"</span>
    },
    <span class="hl-key">"media"</span>: {
      <span class="hl-key">"enabled"</span>: <span class="hl-num">false</span>,
      <span class="hl-key">"radarr"</span>: {
        <span class="hl-key">"url"</span>: <span class="hl-str">"http://localhost:7878"</span>,
        <span class="hl-key">"apiKey"</span>: <span class="hl-str">"your-radarr-api-key"</span>
      },
      <span class="hl-key">"sonarr"</span>: {
        <span class="hl-key">"url"</span>: <span class="hl-str">"http://localhost:8989"</span>,
        <span class="hl-key">"apiKey"</span>: <span class="hl-str">"your-sonarr-api-key"</span>
      }
    },
    <span class="hl-key">"obsidian"</span>: {
      <span class="hl-key">"enabled"</span>: <span class="hl-num">false</span>,
      <span class="hl-key">"apiUrl"</span>: <span class="hl-str">"https://127.0.0.1:27124"</span>,
      <span class="hl-key">"apiKey"</span>: <span class="hl-str">"your-obsidian-local-rest-api-key"</span>,
      <span class="hl-key">"vaultName"</span>: <span class="hl-str">"MyVault"</span>,
      <span class="hl-key">"syncInterval"</span>: <span class="hl-num">300</span>,
      <span class="hl-key">"timeout"</span>: <span class="hl-num">15</span>
    },
    <span class="hl-key">"browser"</span>: {
      <span class="hl-key">"enabled"</span>: <span class="hl-num">false</span>,
      <span class="hl-key">"headless"</span>: <span class="hl-num">true</span>,
      <span class="hl-key">"chromePath"</span>: <span class="hl-num">null</span>,
      <span class="hl-key">"timeout"</span>: <span class="hl-num">30</span>
    },
    <span class="hl-key">"imageGen"</span>: {
      <span class="hl-key">"enabled"</span>: <span class="hl-num">false</span>,
      <span class="hl-key">"defaultProvider"</span>: <span class="hl-str">"openai"</span>
    },
    <span class="hl-key">"mcp"</span>: {
      <span class="hl-key">"servers"</span>: {
        <span class="hl-key">"example-server"</span>: {
          <span class="hl-key">"command"</span>: <span class="hl-str">"npx"</span>,
          <span class="hl-key">"args"</span>: [<span class="hl-str">"-y"</span>, <span class="hl-str">"@example/mcp-server"</span>],
          <span class="hl-key">"env"</span>: {},
          <span class="hl-key">"enabled"</span>: <span class="hl-num">true</span>
        }
      }
    }
  },
  <span class="hl-key">"voice"</span>: {
    <span class="hl-key">"transcription"</span>: {
      <span class="hl-key">"enabled"</span>: <span class="hl-num">false</span>,
      <span class="hl-key">"apiKey"</span>: <span class="hl-str">"your-groq-api-key"</span>,
      <span class="hl-key">"apiBase"</span>: <span class="hl-str">"https://api.groq.com/openai/v1/audio/transcriptions"</span>,
      <span class="hl-key">"model"</span>: <span class="hl-str">"whisper-large-v3-turbo"</span>,
      <span class="hl-key">"localModelPath"</span>: <span class="hl-str">""</span>,
      <span class="hl-key">"preferLocal"</span>: <span class="hl-num">true</span>,
      <span class="hl-key">"threads"</span>: <span class="hl-num">4</span>
    }
  }
}</pre>
    </div>
  </div>
</section>

<!-- PROVIDERS -->
<section id="providers">
  <div class="container">
    <div class="section-label">Providers</div>
    <div class="section-title">Any LLM, one interface</div>
    <div class="section-desc">Native support for major providers plus any OpenAI-compatible API. Automatic selection by prefix notation or model name. Local model fallback supported.</div>

    <div class="providers-row">
      <div class="provider-tag">Anthropic <span class="sub">Claude 4.5/4.6</span></div>
      <div class="provider-tag">OpenAI <span class="sub">GPT-4, o-series</span></div>
      <div class="provider-tag">Google <span class="sub">Gemini</span></div>
      <div class="provider-tag">OpenRouter <span class="sub">any model</span></div>
      <div class="provider-tag">DeepSeek <span class="sub">Chat/Coder</span></div>
      <div class="provider-tag">Groq <span class="sub">fast inference</span></div>
      <div class="provider-tag">Ollama <span class="sub">local models</span></div>
      <div class="provider-tag">vLLM <span class="sub">self-hosted</span></div>
      <div class="provider-tag">Moonshot</div>
      <div class="provider-tag">Zhipu</div>
      <div class="provider-tag">DashScope</div>
    </div>
  </div>
</section>

<!-- ARCHITECTURE -->
<section id="architecture" class="arch-section">
  <div class="container">
    <div class="section-label">Architecture</div>
    <div class="section-title">Clean, modular, extensible</div>
    <div class="section-desc">Three core traits with a middleware pipeline for tool execution.</div>

    <div class="arch-flow-box">
      <span class="node">Channel</span>
      <span class="arrow">&rarr;</span>
      <span class="node">MessageBus</span>
      <span class="arrow">&rarr;</span>
      <span class="node">AgentLoop</span>
      <span class="arrow">&rarr;</span>
      <span class="node">LLM Provider</span>
      <br>
      <span style="color: #64748b; font-size: 0.75rem;">LLM call &rarr; parallel tool execution &rarr; append to conversation &rarr; repeat</span>
    </div>

    <div class="arch-grid">
      <div class="arch-card">
        <h3>trait Tool</h3>
        <p>name(), description(), parameters() via JSON Schema, execute(). Optional cacheable(). Registered in ToolRegistry with middleware pipeline.</p>
      </div>
      <div class="arch-card">
        <h3>trait BaseChannel</h3>
        <p>start(), stop(), send(). Optional: send_typing(), edit_message(), delete_message(). Auto-reconnect with exponential backoff.</p>
      </div>
      <div class="arch-card">
        <h3>trait LLMProvider</h3>
        <p>chat(ChatRequest) &rarr; LLMResponse. Default chat_with_retry() with backoff. warmup() pre-warms HTTP connection pools.</p>
      </div>
      <div class="arch-card">
        <h3>ToolMiddleware</h3>
        <p>before_execute() can short-circuit, after_execute() can modify results. Built-in: Cache, Truncation, Logging.</p>
      </div>
      <div class="arch-card">
        <h3>ToolRegistry</h3>
        <p>Central execution engine. Panic isolation via tokio::spawn, timeouts, LRU cache (128 entries, 5min TTL), parallel execution.</p>
      </div>
      <div class="arch-card">
        <h3>ProviderFactory</h3>
        <p>Auto-selects provider by model name. OAuth-first for Anthropic, then API key strategy with OpenAI-compatible matching.</p>
      </div>
    </div>
  </div>
</section>

<!-- STRUCTURE -->
<section class="structure-section">
  <div class="container">
    <div class="section-label">Project Structure</div>
    <div class="section-title">Well-organized codebase</div>
    <div class="section-desc"></div>
    <div class="structure-pre">
      <pre><span class="hl-comment">src/</span>
&#x251C;&#x2500;&#x2500; agent/          <span class="hl-comment"># Agent loop, context, memory, tools, subagents</span>
&#x2502;   &#x2514;&#x2500;&#x2500; tools/      <span class="hl-comment"># 24 built-in tools + MCP integration</span>
&#x251C;&#x2500;&#x2500; auth/           <span class="hl-comment"># OAuth authentication (Google)</span>
&#x251C;&#x2500;&#x2500; bus/            <span class="hl-comment"># Message bus for channel-agent communication</span>
&#x251C;&#x2500;&#x2500; channels/       <span class="hl-comment"># Telegram, Discord, Slack, WhatsApp, Twilio</span>
&#x251C;&#x2500;&#x2500; cli/            <span class="hl-comment"># Command-line interface</span>
&#x251C;&#x2500;&#x2500; config/         <span class="hl-comment"># Configuration schema and loader</span>
&#x251C;&#x2500;&#x2500; cron/           <span class="hl-comment"># Cron job scheduling service</span>
&#x251C;&#x2500;&#x2500; providers/      <span class="hl-comment"># Anthropic, OpenAI, Gemini, OpenAI-compat</span>
&#x251C;&#x2500;&#x2500; session/        <span class="hl-comment"># SQLite-backed session management</span>
&#x251C;&#x2500;&#x2500; errors.rs       <span class="hl-comment"># OxicrabError typed error enum</span>
&#x2514;&#x2500;&#x2500; utils/          <span class="hl-comment"># URL security, transcription, media</span></pre>
    </div>
  </div>
</section>

<!-- CTA -->
<section class="cta-section">
  <div class="container">
    <h2>Ready to build your AI assistant?</h2>
    <p style="color: var(--text-muted); font-size: 1rem;">Open source, MIT licensed, built in Rust. Contributions welcome.</p>
    <div class="cta-actions">
      <a href="https://github.com/oxicrab/oxicrab" class="btn btn-primary">Star on GitHub</a>
      <a href="https://github.com/oxicrab/oxicrab/issues" class="btn btn-ghost">Report an Issue</a>
    </div>
  </div>
</section>

<footer>
  <div class="footer-inner">
    <a href="index.html" class="nav-logo" style="font-size: 0.95rem;"><img src="oxicrab.png" alt="" width="24" height="24"><span class="oxi">oxi</span>crab</a>
    <div class="footer-links">
      <a href="https://github.com/oxicrab/oxicrab">GitHub</a>
      <a href="https://crates.io/crates/oxicrab">crates.io</a>
      <a href="https://github.com/oxicrab/oxicrab/blob/main/README.md">README</a>
      <a href="https://github.com/oxicrab/oxicrab/blob/main/LICENSE">MIT License</a>
    </div>
    <span class="footer-copy">Built by <a href="https://github.com/oxicrab" style="color: var(--accent); text-decoration: none;">James Turnbull</a></span>
  </div>
</footer>


<script>
  document.querySelectorAll('a[href^="#"]').forEach(a => {
    a.addEventListener('click', function(e) {
      const t = document.querySelector(this.getAttribute('href'));
      if (t) { e.preventDefault(); t.scrollIntoView({ behavior: 'smooth', block: 'start' }); }
    });
  });
  window.addEventListener('scroll', () => {
    document.querySelector('nav').style.background = scrollY > 50 ? 'rgba(250,251,252,0.97)' : 'rgba(250,251,252,0.9)';
  });

  // Tool detail expand/collapse
  document.querySelectorAll('.tool-item[data-detail]').forEach(item => {
    item.addEventListener('click', () => {
      const grid = item.closest('.tool-grid');
      const existing = grid.querySelector('.tool-detail.visible');
      const name = item.querySelector('.tool-name').textContent;
      // Close if clicking the same tool
      if (existing && existing.previousElementSibling === item) {
        existing.classList.remove('visible');
        existing.remove();
        item.classList.remove('active');
        return;
      }
      // Close any open detail in this grid
      if (existing) {
        existing.classList.remove('visible');
        existing.remove();
        grid.querySelectorAll('.tool-item.active').forEach(i => i.classList.remove('active'));
      }
      // Create and insert detail panel after the clicked item
      const detail = document.createElement('div');
      detail.className = 'tool-detail visible';
      const toolId = name.toLowerCase().replace(/\s+/g, '_');
      detail.innerHTML = '<div class="tool-detail-name">' + name + '</div><p>' + item.dataset.detail + '</p><p><a href="tools.html#' + toolId + '" style="color:var(--accent);font-size:0.85rem">Full reference &rarr;</a></p>';
      item.after(detail);
      item.classList.add('active');
    });
  });
</script>

</body>
</html>
